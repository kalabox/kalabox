#
# unison service.
#
# This is a small unison container to help work around file sharing issues
# on OSX and WINDOWS
#
unison:

  # Comment this and uncomment 'build' below if you want to edit your
  # local dockerfile and build from there. This is useful for development
  # image: kalabox/unison:stable

  # Uncomment this and comment 'image' above if you want to edit your
  # local dockerfile and build from there. This is useful for development
  #
  build: dockerfiles/unison
  restart: always
  environment:
    UNISON_WEBROOT: $KALABOX_SHARING_WEBROOT
    UNISON_CODEROOT: $KALABOX_SHARING_CODEROOT
    UNISON_OPTIONS: $KALABOX_SHARING_OPTIONS
  volumes:
    - $KALABOX_APP_ROOT_BIND:/src
  volumes_from:
    - $KALABOX_SHARING_VOLUME_FROM
